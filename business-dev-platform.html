<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BWOP Business Development AI Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8em;
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #f093fb;
        }

        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover {
            border-color: #f5576c;
            transform: scale(1.02);
        }

        .upload-area.dragover {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-color: #f5576c;
        }

        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .canvas-container {
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        #documentCanvas {
            max-width: 100%;
            display: block;
            background: white;
        }

        .extracted-fields {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .field-group {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .field-group label {
            display: block;
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 5px;
        }

        .field-group input, .field-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .field-group input:focus, .field-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .template-preview {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 400px;
        }

        .business-form {
            display: grid;
            gap: 20px;
            margin: 20px 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 5px;
        }

        .form-group input, .form-group select, .form-group textarea {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .grant-card {
            background: linear-gradient(135deg, #ffffff 0%, #f5f7fa 100%);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s;
        }

        .grant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border-color: #667eea;
        }

        .grant-card h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .grant-card .amount {
            font-size: 1.5em;
            color: #f5576c;
            font-weight: bold;
            margin: 10px 0;
        }

        .grant-card .deadline {
            color: #ff9800;
            font-weight: bold;
        }

        .filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
        }

        .search-bar {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }

        .search-bar input {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .loan-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid #f5576c;
        }

        .loan-card h3 {
            color: #764ba2;
            margin-bottom: 10px;
        }

        .loan-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .loan-detail {
            background: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 8px;
        }

        .loan-detail strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .stat-card h3 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stat-card p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .generated-content {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            min-height: 300px;
            line-height: 1.8;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .status-badge.open {
            background: #4caf50;
            color: white;
        }

        .status-badge.closing {
            background: #ff9800;
            color: white;
        }

        .status-badge.high-match {
            background: #667eea;
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }

            .loan-details {
                grid-template-columns: 1fr;
            }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ BWOP Business Development AI Platform</h1>
            <p>Smart Document Processing ‚Ä¢ Grant Finder ‚Ä¢ Proposal Generator ‚Ä¢ Loan Matcher</p>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('scanner')">üìÑ Document Scanner</button>
            <button class="tab-btn" onclick="switchTab('portfolio')">üíº Business Portfolio</button>
            <button class="tab-btn" onclick="switchTab('grants')">üí∞ Grant Finder</button>
            <button class="tab-btn" onclick="switchTab('proposals')">üìù Proposal Writer</button>
            <button class="tab-btn" onclick="switchTab('loans')">üè¶ Loan Matcher</button>
            <button class="tab-btn" onclick="switchTab('dashboard')">üìä Dashboard</button>
        </div>

        <!-- Document Scanner Tab -->
        <div id="scanner" class="tab-content active">
            <h2 class="section-title">Smart Document Scanner & Template Generator</h2>
            
            <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                <h3>üì∏ Upload or Drag & Drop Document</h3>
                <p>Supports: Images (JPG, PNG), PDFs, Scanned Documents</p>
                <input type="file" id="fileInput" accept="image/*,.pdf" style="display: none;" onchange="handleFileUpload(event)">
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="startCamera()">üì∑ Use Camera</button>
                <button class="btn btn-secondary" onclick="processDocument()">üîç Extract Fields</button>
                <button class="btn btn-success" onclick="generateTemplate()">üìã Generate Template</button>
            </div>

            <div class="canvas-container" id="canvasContainer" style="display: none;">
                <canvas id="documentCanvas"></canvas>
            </div>

            <div id="extractedFields" class="extracted-fields" style="display: none;"></div>

            <div id="templatePreview" class="template-preview" style="display: none;"></div>

            <div class="loading" id="scanLoading">
                <div class="spinner"></div>
                <p>Processing document...</p>
            </div>
        </div>

        <!-- Business Portfolio Tab -->
        <div id="portfolio" class="tab-content">
            <h2 class="section-title">Business Portfolio Builder</h2>
            
            <div class="business-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Business Name *</label>
                        <input type="text" id="businessName" placeholder="Enter your business name">
                    </div>
                    <div class="form-group">
                        <label>Industry *</label>
                        <select id="industry">
                            <option value="">Select Industry</option>
                            <option value="technology">Technology</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="retail">Retail</option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="services">Services</option>
                            <option value="agriculture">Agriculture</option>
                            <option value="construction">Construction</option>
                            <option value="education">Education</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Business Type *</label>
                        <select id="businessType">
                            <option value="">Select Type</option>
                            <option value="startup">Startup</option>
                            <option value="small_business">Small Business</option>
                            <option value="medium_business">Medium Business</option>
                            <option value="nonprofit">Non-Profit</option>
                            <option value="social_enterprise">Social Enterprise</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Years in Business</label>
                        <input type="number" id="yearsInBusiness" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Number of Employees</label>
                        <input type="number" id="employeeCount" placeholder="0" min="0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Annual Revenue ($)</label>
                        <input type="number" id="annualRevenue" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Location (City, State)</label>
                        <input type="text" id="location" placeholder="e.g., Atlanta, GA">
                    </div>
                </div>

                <div class="form-group">
                    <label>Business Description *</label>
                    <textarea id="businessDescription" rows="4" placeholder="Describe your business, products, services, and mission..."></textarea>
                </div>

                <div class="form-group">
                    <label>Target Market</label>
                    <textarea id="targetMarket" rows="3" placeholder="Describe your target customers and market..."></textarea>
                </div>

                <div class="form-group">
                    <label>Funding Needs</label>
                    <textarea id="fundingNeeds" rows="3" placeholder="What do you need funding for? (equipment, expansion, hiring, etc.)"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn" onclick="saveBusinessProfile()">üíæ Save Portfolio</button>
                    <button class="btn btn-secondary" onclick="generateBusinessPlan()">üìÑ Generate Business Plan</button>
                    <button class="btn btn-success" onclick="exportPortfolio()">üì§ Export PDF</button>
                </div>
            </div>

            <div id="businessPlanPreview" class="generated-content" style="display: none;"></div>
        </div>

        <!-- Grant Finder Tab -->
        <div id="grants" class="tab-content">
            <h2 class="section-title">Grant Finder & Application Generator</h2>

            <div class="search-bar">
                <input type="text" id="grantSearch" placeholder="Search grants by keyword, industry, or funding type...">
                <button class="btn" onclick="searchGrants()">üîç Search</button>
            </div>

            <div class="filters">
                <div class="form-group">
                    <label>Grant Type</label>
                    <select id="grantType">
                        <option value="all">All Types</option>
                        <option value="federal">Federal</option>
                        <option value="state">State</option>
                        <option value="private">Private Foundation</option>
                        <option value="corporate">Corporate</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Industry Focus</label>
                    <select id="grantIndustry">
                        <option value="all">All Industries</option>
                        <option value="technology">Technology</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="education">Education</option>
                        <option value="green">Green Energy</option>
                        <option value="agriculture">Agriculture</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Amount Range</label>
                    <select id="grantAmount">
                        <option value="all">Any Amount</option>
                        <option value="0-10000">Up to $10,000</option>
                        <option value="10000-50000">$10,000 - $50,000</option>
                        <option value="50000-250000">$50,000 - $250,000</option>
                        <option value="250000+">$250,000+</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-success" onclick="findMatchingGrants()">üéØ Find Matching Grants</button>
                <button class="btn btn-secondary" onclick="generateGrantProposal()">‚úçÔ∏è Generate Grant Proposal</button>
            </div>

            <div id="grantsList"></div>

            <div id="grantProposal" class="generated-content" style="display: none;"></div>

            <div class="loading" id="grantLoading">
                <div class="spinner"></div>
                <p>Searching grant databases...</p>
            </div>
        </div>

        <!-- Proposal Writer Tab -->
        <div id="proposals" class="tab-content">
            <h2 class="section-title">AI-Powered Business Proposal Writer</h2>

            <div class="business-form">
                <div class="form-group">
                    <label>Proposal Type *</label>
                    <select id="proposalType">
                        <option value="">Select Proposal Type</option>
                        <option value="business_plan">Comprehensive Business Plan</option>
                        <option value="pitch_deck">Investor Pitch Deck</option>
                        <option value="partnership">Partnership Proposal</option>
                        <option value="service">Service Proposal</option>
                        <option value="project">Project Proposal</option>
                        <option value="marketing">Marketing Plan</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Target Audience</label>
                    <input type="text" id="targetAudience" placeholder="Who is this proposal for? (investors, partners, clients)">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Requested Amount ($)</label>
                        <input type="number" id="requestedAmount" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Timeline</label>
                        <input type="text" id="proposalTimeline" placeholder="e.g., 12 months">
                    </div>
                </div>

                <div class="form-group">
                    <label>Project/Business Overview</label>
                    <textarea id="proposalOverview" rows="4" placeholder="Describe what you're proposing..."></textarea>
                </div>

                <div class="form-group">
                    <label>Key Goals & Objectives</label>
                    <textarea id="proposalGoals" rows="3" placeholder="What are you trying to achieve?"></textarea>
                </div>

                <div class="form-group">
                    <label>Expected Outcomes</label>
                    <textarea id="proposalOutcomes" rows="3" placeholder="What results do you expect?"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn" onclick="generateProposal()">‚ú® Generate Proposal</button>
                    <button class="btn btn-secondary" onclick="enhanceProposal()">üöÄ Enhance with AI</button>
                    <button class="btn btn-success" onclick="exportProposal()">üì• Download Document</button>
                </div>
            </div>

            <div id="proposalContent" class="generated-content" style="display: none;"></div>

            <div class="loading" id="proposalLoading">
                <div class="spinner"></div>
                <p>Generating professional proposal...</p>
            </div>
        </div>

        <!-- Loan Matcher Tab -->
        <div id="loans" class="tab-content">
            <h2 class="section-title">Smart Loan Matcher</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="matchingLoansCount">0</h3>
                    <p>Matching Loans</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <h3 id="avgInterestRate">-</h3>
                    <p>Avg Interest Rate</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h3 id="maxLoanAmount">$0</h3>
                    <p>Max Available</p>
                </div>
            </div>

            <div class="filters">
                <div class="form-group">
                    <label>Loan Type</label>
                    <select id="loanType">
                        <option value="all">All Types</option>
                        <option value="sba">SBA Loan</option>
                        <option value="business">Business Loan</option>
                        <option value="equipment">Equipment Financing</option>
                        <option value="line_of_credit">Line of Credit</option>
                        <option value="micro">Microloan</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Loan Amount Needed</label>
                    <input type="number" id="loanAmountNeeded" placeholder="$0" min="0">
                </div>
                <div class="form-group">
                    <label>Credit Score Range</label>
                    <select id="creditScore">
                        <option value="all">Any Credit</option>
                        <option value="excellent">Excellent (720+)</option>
                        <option value="good">Good (680-719)</option>
                        <option value="fair">Fair (640-679)</option>
                        <option value="poor">Poor (Below 640)</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="findMatchingLoans()">üîç Find Matching Loans</button>
                <button class="btn btn-secondary" onclick="generateLoanApplication()">üìù Generate Application</button>
            </div>

            <div id="loansList"></div>

            <div class="loading" id="loanLoading">
                <div class="spinner"></div>
                <p>Analyzing loan options...</p>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <h2 class="section-title">Business Development Dashboard</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="documentsScanned">0</h3>
                    <p>Documents Scanned</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <h3 id="templatesCreated">0</h3>
                    <p>Templates Created</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <h3 id="grantsFound">0</h3>
                    <p>Grants Found</p>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <h3 id="proposalsGenerated">0</h3>
                    <p>Proposals Generated</p>
                </div>
            </div>

            <div class="business-form">
                <h3>Recent Activity</h3>
                <div id="recentActivity" class="generated-content">
                    <p>No recent activity yet. Start using the platform to see your progress!</p>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="exportAllData()">üìä Export All Data</button>
                <button class="btn btn-secondary" onclick="clearAllData()">üóëÔ∏è Clear Data</button>
                <button class="btn btn-success" onclick="generateFullReport()">üìÑ Generate Report</button>
            </div>
        </div>
    </div>

    <script>
        // Global State
        let businessData = {
            profile: {},
            documents: [],
            templates: [],
            grants: [],
            proposals: [],
            loans: [],
            stats: {
                documentsScanned: 0,
                templatesCreated: 0,
                grantsFound: 0,
                proposalsGenerated: 0
            }
        };

        // Load saved data
        window.addEventListener('load', () => {
            const saved = localStorage.getItem('bwopBusinessData');
            if (saved) {
                businessData = JSON.parse(saved);
                updateDashboard();
            }
        });

        // Save data
        function saveData() {
            localStorage.setItem('bwopBusinessData', JSON.stringify(businessData));
        }

        // Tab Switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'dashboard') {
                updateDashboard();
            }
        }

        // Document Scanner Functions
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    displayImage(e.target.result);
                    businessData.stats.documentsScanned++;
                    saveData();
                };
                reader.readAsDataURL(file);
            }
        }

        function displayImage(src) {
            const canvas = document.getElementById('documentCanvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            img.onload = function() {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
                document.getElementById('canvasContainer').style.display = 'block';
            };
            
            img.src = src;
        }

        function startCamera() {
            alert('üì± Camera feature would integrate with device camera API. In production, this would use:\n\n‚Ä¢ Google ML Kit for document detection\n‚Ä¢ Real-time edge detection\n‚Ä¢ Auto-capture when document detected\n‚Ä¢ Perspective correction');
        }

        function processDocument() {
            document.getElementById('scanLoading').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('scanLoading').classList.remove('active');
                
                // Simulate field extraction
                const fields = [
                    { label: 'Company Name', type: 'text', value: '', isVariable: true },
                    { label: 'Date', type: 'date', value: new Date().toISOString().split('T')[0], isVariable: true },
                    { label: 'Invoice Number', type: 'text', value: '', isVariable: true },
                    { label: 'Amount', type: 'number', value: '', isVariable: true },
                    { label: 'Description', type: 'textarea', value: '', isVariable: true },
                    { label: 'Terms', type: 'text', value: 'Net 30', isVariable: false }
                ];
                
                displayExtractedFields(fields);
            }, 2000);
        }

        function displayExtractedFields(fields) {
            const container = document.getElementById('extractedFields');
            container.innerHTML = '<h3>Extracted Fields (Editable)</h3>';
            
            fields.forEach((field, index) => {
                const fieldDiv = document.createElement('div');
                fieldDiv.className = 'field-group';
                fieldDiv.innerHTML = `
                    <label>${field.label} ${field.isVariable ? 'üîµ Variable' : '‚ö´ Static'}</label>
                    ${field.type === 'textarea' ? 
                        `<textarea data-index="${index}">${field.value}</textarea>` :
                        `<input type="${field.type}" data-index="${index}" value="${field.value}">`
                    }
                `;
                container.appendChild(fieldDiv);
            });
            
            container.style.display = 'grid';
        }

        function generateTemplate() {
            const fields = Array.from(document.querySelectorAll('#extractedFields input, #extractedFields textarea'));
            
            if (fields.length === 0) {
                alert('Please extract fields first by processing a document');
                return;
            }
            
            const templateHTML = `
                <h3>Generated Template</h3>
                <div style="border: 2px solid #667eea; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h2 style="color: #667eea; text-align: center; margin-bottom: 20px;">BUSINESS DOCUMENT TEMPLATE</h2>
                    ${fields.map((field, i) => `
                        <div style="margin: 15px 0; padding: 10px; background: #f5f7fa; border-radius: 5px;">
                            <strong style="color: #764ba2;">${field.previousSibling.textContent}:</strong>
                            <span style="color: #333; margin-left: 10px;">${field.value || '[To be filled]'}</span>
                        </div>
                    `).join('')}
                    <div style="margin-top: 30px; text-align: center; color: #999;">
                        <p>This template can be reused with new data</p>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="btn" onclick="saveTemplate()">üíæ Save Template</button>
                    <button class="btn btn-secondary" onclick="exportTemplate()">üì§ Export Template</button>
                </div>
            `;
            
            document.getElementById('templatePreview').innerHTML = templateHTML;
            document.getElementById('templatePreview').style.display = 'block';
            
            businessData.stats.templatesCreated++;
            saveData();
        }

        function saveTemplate() {
            alert('‚úÖ Template saved successfully!\n\nYou can now use this template to generate new documents with different data.');
        }

        function exportTemplate() {
            alert('üì§ Export Options:\n\n‚Ä¢ PDF Format\n‚Ä¢ Word Document (.docx)\n‚Ä¢ HTML Template\n‚Ä¢ JSON Data Structure\n\nTemplate will be downloaded to your device.');
        }

        // Business Portfolio Functions
        function saveBusinessProfile() {
            businessData.profile = {
                name: document.getElementById('businessName').value,
                industry: document.getElementById('industry').value,
                type: document.getElementById('businessType').value,
                years: document.getElementById('yearsInBusiness').value,
                employees: document.getElementById('employeeCount').value,
                revenue: document.getElementById('annualRevenue').value,
                location: document.getElementById('location').value,
                description: document.getElementById('businessDescription').value,
                targetMarket: document.getElementById('targetMarket').value,
                fundingNeeds: document.getElementById('fundingNeeds').value
            };
            
            saveData();
            alert('‚úÖ Business portfolio saved successfully!');
        }

        function generateBusinessPlan() {
            const profile = businessData.profile;
            
            if (!profile.name) {
                alert('Please fill in the business information first');
                return;
            }
            
            const businessPlan = `
                <h2 style="color: #667eea; border-bottom: 3px solid #f093fb; padding-bottom: 10px;">EXECUTIVE SUMMARY</h2>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Company Overview</h3>
                <p>${profile.name} is a ${profile.type || 'business'} operating in the ${profile.industry || 'industry'} sector, located in ${profile.location || 'the United States'}.</p>
                
                <p>${profile.description || 'This is an innovative business focused on delivering exceptional value to customers.'}</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Market Opportunity</h3>
                <p><strong>Target Market:</strong> ${profile.targetMarket || 'Diverse customer base seeking quality products and services.'}</p>
                
                <p>The ${profile.industry || 'target'} industry presents significant growth opportunities. Our business is positioned to capture market share through innovation and customer-focused solutions.</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Financial Highlights</h3>
                <ul style="line-height: 2;">
                    <li><strong>Years in Operation:</strong> ${profile.years || 'New venture'}</li>
                    <li><strong>Current Revenue:</strong> $${profile.revenue ? parseInt(profile.revenue).toLocaleString() : '0'} annually</li>
                    <li><strong>Team Size:</strong> ${profile.employees || '1-10'} employees</li>
                </ul>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Funding Requirements</h3>
                <p>${profile.fundingNeeds || 'Seeking investment to fuel growth and expansion.'}</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Strategic Goals</h3>
                <ul style="line-height: 2;">
                    <li>Expand market presence and customer base</li>
                    <li>Develop innovative products and services</li>
                    <li>Build strategic partnerships</li>
                    <li>Achieve sustainable profitability and growth</li>
                </ul>
                
                <h3 style="color: #764ba2; margin-top: 25px;">Competitive Advantages</h3>
                <ul style="line-height: 2;">
                    <li>Deep industry expertise and experience</li>
                    <li>Customer-centric approach</li>
                    <li>Innovative business model</li>
                    <li>Strong team and partnerships</li>
                </ul>
                
                <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; border-left: 5px solid #667eea;">
                    <p style="margin: 0;"><strong>Next Steps:</strong> This business plan serves as a foundation for securing funding, partnerships, and guiding strategic growth initiatives.</p>
                </div>
            `;
            
            document.getElementById('businessPlanPreview').innerHTML = businessPlan;
            document.getElementById('businessPlanPreview').style.display = 'block';
            
            businessData.stats.proposalsGenerated++;
            saveData();
        }

        function exportPortfolio() {
            alert('üì• Portfolio Export Options:\n\n‚Ä¢ PDF Document\n‚Ä¢ PowerPoint Presentation\n‚Ä¢ Word Document\n‚Ä¢ Web Page (HTML)\n\nYour business portfolio will be formatted professionally.');
        }

        // Grant Functions
        function searchGrants() {
            findMatchingGrants();
        }

        function findMatchingGrants() {
            document.getElementById('grantLoading').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('grantLoading').classList.remove('active');
                
                const grants = [
                    {
                        name: 'Small Business Innovation Research (SBIR)',
                        type: 'Federal',
                        amount: '$150,000 - $1,000,000',
                        deadline: 'Rolling',
                        match: 95,
                        description: 'Funding for small businesses engaged in R&D with commercial potential'
                    },
                    {
                        name: 'State Small Business Credit Initiative',
                        type: 'State',
                        amount: '$50,000 - $250,000',
                        deadline: 'March 31, 2026',
                        match: 88,
                        description: 'Support for small businesses to access capital and credit'
                    },
                    {
                        name: 'Women-Owned Small Business Program',
                        type: 'Federal',
                        amount: '$25,000 - $500,000',
                        deadline: 'Ongoing',
                        match: 82,
                        description: 'Federal contracting program for women-owned businesses'
                    },
                    {
                        name: 'Community Development Block Grant',
                        type: 'Federal/Local',
                        amount: '$10,000 - $100,000',
                        deadline: 'June 15, 2026',
                        match: 75,
                        description: 'Support for businesses in economically disadvantaged communities'
                    },
                    {
                        name: 'Green Energy Innovation Fund',
                        type: 'Private',
                        amount: '$100,000 - $500,000',
                        deadline: 'April 30, 2026',
                        match: 70,
                        description: 'Funding for sustainable and green energy initiatives'
                    }
                ];
                
                displayGrants(grants);
                businessData.stats.grantsFound = grants.length;
                saveData();
            }, 2000);
        }

        function displayGrants(grants) {
            const container = document.getElementById('grantsList');
            container.innerHTML = '<h3>Matching Grants Found</h3>';
            
            grants.forEach(grant => {
                const card = document.createElement('div');
                card.className = 'grant-card';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div style="flex: 1;">
                            <h3>${grant.name}</h3>
                            <span class="status-badge high-match">${grant.match}% Match</span>
                            <span class="status-badge ${grant.deadline.includes('Rolling') || grant.deadline.includes('Ongoing') ? 'open' : 'closing'}">${grant.type}</span>
                        </div>
                        <div class="amount">${grant.amount}</div>
                    </div>
                    <p style="margin: 15px 0; line-height: 1.6;">${grant.description}</p>
                    <div class="deadline">‚è∞ Deadline: ${grant.deadline}</div>
                    <div class="action-buttons" style="margin-top: 15px;">
                        <button class="btn" onclick="viewGrantDetails('${grant.name}')">üìã View Details</button>
                        <button class="btn btn-success" onclick="generateGrantProposal('${grant.name}')">‚úçÔ∏è Generate Application</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function viewGrantDetails(grantName) {
            alert(`üìã Grant Details: ${grantName}\n\nFull grant information would include:\n‚Ä¢ Eligibility requirements\n‚Ä¢ Application process\n‚Ä¢ Required documents\n‚Ä¢ Evaluation criteria\n‚Ä¢ Timeline\n‚Ä¢ Contact information`);
        }

        function generateGrantProposal(grantName) {
            const profile = businessData.profile;
            
            const proposal = `
                <h2 style="color: #667eea; text-align: center; border-bottom: 3px solid #f093fb; padding-bottom: 15px;">
                    GRANT APPLICATION PROPOSAL
                </h2>
                
                <div style="text-align: center; margin: 20px 0; color: #764ba2;">
                    <strong>Grant Program:</strong> ${grantName || 'Small Business Grant'}
                </div>
                
                <h3 style="color: #764ba2; margin-top: 25px;">1. EXECUTIVE SUMMARY</h3>
                <p>${profile.name || 'Our business'} is seeking grant funding to ${profile.fundingNeeds || 'expand operations and serve more customers'}. This proposal outlines our vision, impact, and funding requirements.</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">2. ORGANIZATION BACKGROUND</h3>
                <p><strong>Organization Name:</strong> ${profile.name || '[Business Name]'}</p>
                <p><strong>Industry:</strong> ${profile.industry || '[Industry]'}</p>
                <p><strong>Years in Operation:</strong> ${profile.years || 'New venture'}</p>
                <p><strong>Location:</strong> ${profile.location || '[Location]'}</p>
                
                <p style="margin-top: 15px;">${profile.description || 'We are a mission-driven organization focused on creating positive impact in our community and industry.'}</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">3. PROJECT DESCRIPTION</h3>
                <p><strong>Project Goals:</strong></p>
                <ul style="line-height: 2;">
                    <li>Expand service delivery and reach</li>
                    <li>Create sustainable economic impact</li>
                    <li>Develop innovative solutions</li>
                    <li>Build community partnerships</li>
                </ul>
                
                <p style="margin-top: 15px;"><strong>Target Population:</strong> ${profile.targetMarket || 'Our target audience includes underserved communities and businesses seeking innovative solutions.'}</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">4. IMPACT & OUTCOMES</h3>
                <p><strong>Expected Outcomes:</strong></p>
                <ul style="line-height: 2;">
                    <li>Job creation: ${profile.employees || '10'}+ positions</li>
                    <li>Revenue growth: ${profile.revenue || '30'}% increase</li>
                    <li>Community impact: Serve 500+ individuals/businesses</li>
                    <li>Economic development: Generate $${parseInt(profile.revenue || 100000).toLocaleString()} in economic activity</li>
                </ul>
                
                <h3 style="color: #764ba2; margin-top: 25px;">5. BUDGET & FUNDING REQUEST</h3>
                <p><strong>Total Project Budget:</strong> $${parseInt(profile.revenue || 100000).toLocaleString()}</p>
                
                <div style="margin: 15px 0;">
                    <p><strong>Budget Breakdown:</strong></p>
                    <ul style="line-height: 2;">
                        <li>Personnel: 40%</li>
                        <li>Equipment & Technology: 25%</li>
                        <li>Marketing & Outreach: 15%</li>
                        <li>Operations: 15%</li>
                        <li>Administrative: 5%</li>
                    </ul>
                </div>
                
                <h3 style="color: #764ba2; margin-top: 25px;">6. SUSTAINABILITY PLAN</h3>
                <p>Our long-term sustainability strategy includes diversified revenue streams, strategic partnerships, and continuous innovation to ensure ongoing impact beyond the grant period.</p>
                
                <h3 style="color: #764ba2; margin-top: 25px;">7. EVALUATION & REPORTING</h3>
                <p>We will implement robust tracking systems to measure progress against goals and provide regular updates to grantors, including quarterly reports and impact assessments.</p>
                
                <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; border-left: 5px solid #667eea;">
                    <p style="margin: 0;"><strong>Conclusion:</strong> This grant will enable us to scale our impact, serve more people, and create lasting positive change in our community.</p>
                </div>
            `;
            
            document.getElementById('grantProposal').innerHTML = proposal;
            document.getElementById('grantProposal').style.display = 'block';
            
            businessData.stats.proposalsGenerated++;
            saveData();
            
            // Scroll to proposal
            document.getElementById('grantProposal').scrollIntoView({ behavior: 'smooth' });
        }

        // Proposal Functions
        function generateProposal() {
            const proposalType = document.getElementById('proposalType').value;
            const targetAudience = document.getElementById('targetAudience').value;
            const amount = document.getElementById('requestedAmount').value;
            const timeline = document.getElementById('proposalTimeline').value;
            const overview = document.getElementById('proposalOverview').value;
            const goals = document.getElementById('proposalGoals').value;
            const outcomes = document.getElementById('proposalOutcomes').value;
            
            if (!proposalType || !overview) {
                alert('Please select a proposal type and provide an overview');
                return;
            }
            
            document.getElementById('proposalLoading').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('proposalLoading').classList.remove('active');
                
                const proposal = `
                    <h2 style="color: #667eea; text-align: center; border-bottom: 3px solid #f093fb; padding-bottom: 15px;">
                        ${proposalType.replace(/_/g, ' ').toUpperCase()}
                    </h2>
                    
                    <div style="text-align: center; margin: 20px 0; padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px;">
                        <strong>Prepared for:</strong> ${targetAudience || 'Stakeholders'}<br>
                        <strong>Date:</strong> ${new Date().toLocaleDateString()}<br>
                        ${amount ? `<strong>Requested Amount:</strong> $${parseInt(amount).toLocaleString()}` : ''}
                    </div>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">EXECUTIVE SUMMARY</h3>
                    <p>${overview}</p>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">OBJECTIVES & GOALS</h3>
                    <p>${goals || 'This proposal aims to achieve strategic objectives aligned with organizational priorities and stakeholder needs.'}</p>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">PROJECT SCOPE</h3>
                    <p><strong>Timeline:</strong> ${timeline || '12 months'}</p>
                    <p><strong>Deliverables:</strong></p>
                    <ul style="line-height: 2;">
                        <li>Phase 1: Planning and setup (Months 1-2)</li>
                        <li>Phase 2: Implementation (Months 3-8)</li>
                        <li>Phase 3: Evaluation and reporting (Months 9-12)</li>
                    </ul>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">EXPECTED OUTCOMES</h3>
                    <p>${outcomes || 'Successful completion will result in measurable improvements, sustainable impact, and value creation for all stakeholders.'}</p>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">INVESTMENT & BUDGET</h3>
                    ${amount ? `
                        <p><strong>Total Investment Required:</strong> $${parseInt(amount).toLocaleString()}</p>
                        <div style="margin: 15px 0;">
                            <p><strong>Budget Allocation:</strong></p>
                            <ul style="line-height: 2;">
                                <li>Project Implementation: ${Math.floor(amount * 0.5).toLocaleString()} (50%)</li>
                                <li>Personnel & Expertise: ${Math.floor(amount * 0.25).toLocaleString()} (25%)</li>
                                <li>Technology & Infrastructure: ${Math.floor(amount * 0.15).toLocaleString()} (15%)</li>
                                <li>Contingency: ${Math.floor(amount * 0.1).toLocaleString()} (10%)</li>
                            </ul>
                        </div>
                    ` : '<p>Budget details available upon request</p>'}
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">VALUE PROPOSITION</h3>
                    <ul style="line-height: 2;">
                        <li><strong>ROI:</strong> Projected return on investment within ${timeline || '12 months'}</li>
                        <li><strong>Risk Mitigation:</strong> Comprehensive risk management strategy</li>
                        <li><strong>Competitive Advantage:</strong> Unique approach and proven expertise</li>
                        <li><strong>Scalability:</strong> Model designed for growth and adaptation</li>
                    </ul>
                    
                    <h3 style="color: #764ba2; margin-top: 25px;">TEAM & EXPERTISE</h3>
                    <p>Our team brings deep expertise in ${businessData.profile.industry || 'the industry'}, with a track record of successful project delivery and stakeholder satisfaction.</p>
                    
                    <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 10px;">
                        <h4 style="margin-bottom: 10px;">NEXT STEPS</h4>
                        <ol style="line-height: 2;">
                            <li>Review and provide feedback on this proposal</li>
                            <li>Schedule detailed discussion meeting</li>
                            <li>Finalize terms and agreements</li>
                            <li>Begin project implementation</li>
                        </ol>
                    </div>
                    
                    <div style="margin-top: 20px; text-align: center; color: #999;">
                        <p>Thank you for considering this proposal. We look forward to partnering with you.</p>
                    </div>
                `;
                
                document.getElementById('proposalContent').innerHTML = proposal;
                document.getElementById('proposalContent').style.display = 'block';
                
                businessData.stats.proposalsGenerated++;
                saveData();
                
                document.getElementById('proposalContent').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        function enhanceProposal() {
            alert('üöÄ AI Enhancement Features:\n\n‚Ä¢ Grammar and style improvements\n‚Ä¢ Strengthen value propositions\n‚Ä¢ Add industry-specific language\n‚Ä¢ Optimize for reader engagement\n‚Ä¢ Include relevant statistics\n‚Ä¢ Enhance visual formatting');
        }

        function exportProposal() {
            alert('üì• Export Options:\n\n‚Ä¢ Microsoft Word (.docx)\n‚Ä¢ PDF Document\n‚Ä¢ PowerPoint Presentation\n‚Ä¢ Google Docs\n‚Ä¢ HTML Format\n\nYour proposal will be professionally formatted.');
        }

        // Loan Functions
        function findMatchingLoans() {
            document.getElementById('loanLoading').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('loanLoading').classList.remove('active');
                
                const loans = [
                    {
                        name: 'SBA 7(a) Loan',
                        lender: 'Multiple SBA Lenders',
                        type: 'SBA Guaranteed',
                        amount: 'Up to $5,000,000',
                        rate: '5.5% - 8.0%',
                        term: '10-25 years',
                        match: 92,
                        requirements: 'Good credit (680+), 2+ years in business'
                    },
                    {
                        name: 'Business Line of Credit',
                        lender: 'Traditional Banks',
                        type: 'Revolving Credit',
                        amount: '$10,000 - $250,000',
                        rate: '7.0% - 12.0%',
                        term: '1-2 years',
                        match: 85,
                        requirements: 'Good credit, established revenue'
                    },
                    {
                        name: 'Equipment Financing',
                        lender: 'Equipment Lenders',
                        type: 'Secured Loan',
                        amount: '$5,000 - $500,000',
                        rate: '4.5% - 9.0%',
                        term: '3-7 years',
                        match: 80,
                        requirements: 'Equipment as collateral'
                    },
                    {
                        name: 'Microloans',
                        lender: 'Community Lenders',
                        type: 'Small Business',
                        amount: 'Up to $50,000',
                        rate: '8.0% - 13.0%',
                        term: '6 months - 6 years',
                        match: 75,
                        requirements: 'Lower credit scores accepted'
                    }
                ];
                
                displayLoans(loans);
                updateLoanStats(loans);
                
                businessData.loans = loans;
                saveData();
            }, 2000);
        }

        function displayLoans(loans) {
            const container = document.getElementById('loansList');
            container.innerHTML = '<h3>Matching Loan Options</h3>';
            
            loans.forEach(loan => {
                const card = document.createElement('div');
                card.className = 'loan-card';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <h3>${loan.name}</h3>
                            <p style="color: #764ba2; margin: 5px 0;"><strong>${loan.lender}</strong></p>
                            <span class="status-badge high-match">${loan.match}% Match</span>
                        </div>
                    </div>
                    
                    <div class="loan-details">
                        <div class="loan-detail">
                            <strong>Loan Amount</strong>
                            ${loan.amount}
                        </div>
                        <div class="loan-detail">
                            <strong>Interest Rate</strong>
                            ${loan.rate}
                        </div>
                        <div class="loan-detail">
                            <strong>Loan Term</strong>
                            ${loan.term}
                        </div>
                        <div class="loan-detail">
                            <strong>Loan Type</strong>
                            ${loan.type}
                        </div>
                    </div>
                    
                    <div style="margin: 15px 0; padding: 15px; background: rgba(255, 255, 255, 0.9); border-radius: 8px;">
                        <strong style="color: #667eea;">Requirements:</strong>
                        <p style="margin-top: 5px;">${loan.requirements}</p>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn" onclick="viewLoanDetails('${loan.name}')">üìã Full Details</button>
                        <button class="btn btn-success" onclick="generateLoanApplication('${loan.name}')">‚úçÔ∏è Apply Now</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function updateLoanStats(loans) {
            document.getElementById('matchingLoansCount').textContent = loans.length;
            
            const rates = loans.map(l => {
                const match = l.rate.match(/(\d+\.?\d*)/);
                return match ? parseFloat(match[1]) : 0;
            });
            const avgRate = (rates.reduce((a, b) => a + b, 0) / rates.length).toFixed(1);
            document.getElementById('avgInterestRate').textContent = avgRate + '%';
            
            document.getElementById('maxLoanAmount').textContent = '$5M';
        }

        function viewLoanDetails(loanName) {
            alert(`üìã Loan Details: ${loanName}\n\nDetailed information would include:\n‚Ä¢ Complete eligibility requirements\n‚Ä¢ Application process\n‚Ä¢ Required documentation\n‚Ä¢ Approval timeline\n‚Ä¢ Repayment terms\n‚Ä¢ Lender contact information`);
        }

        function generateLoanApplication(loanName) {
            alert(`‚úçÔ∏è Generating loan application for: ${loanName}\n\nThe application will include:\n‚Ä¢ Business information\n‚Ä¢ Financial statements\n‚Ä¢ Use of funds\n‚Ä¢ Repayment projections\n‚Ä¢ Supporting documents\n\nBased on your saved business profile.`);
        }

        // Dashboard Functions
        function updateDashboard() {
            document.getElementById('documentsScanned').textContent = businessData.stats.documentsScanned;
            document.getElementById('templatesCreated').textContent = businessData.stats.templatesCreated;
            document.getElementById('grantsFound').textContent = businessData.stats.grantsFound;
            document.getElementById('proposalsGenerated').textContent = businessData.stats.proposalsGenerated;
            
            // Update activity feed
            const activities = [];
            if (businessData.stats.documentsScanned > 0) {
                activities.push(`üìÑ Scanned ${businessData.stats.documentsScanned} document(s)`);
            }
            if (businessData.stats.templatesCreated > 0) {
                activities.push(`üìã Created ${businessData.stats.templatesCreated} template(s)`);
            }
            if (businessData.stats.grantsFound > 0) {
                activities.push(`üí∞ Found ${businessData.stats.grantsFound} matching grant(s)`);
            }
            if (businessData.stats.proposalsGenerated > 0) {
                activities.push(`üìù Generated ${businessData.stats.proposalsGenerated} proposal(s)`);
            }
            
            if (activities.length > 0) {
                document.getElementById('recentActivity').innerHTML = activities.map(a => `<p>‚úì ${a}</p>`).join('');
            }
        }

        function exportAllData() {
            const dataStr = JSON.stringify(businessData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'bwop-business-data.json';
            link.click();
            
            alert('‚úÖ All data exported successfully!');
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This cannot be undone.')) {
                businessData = {
                    profile: {},
                    documents: [],
                    templates: [],
                    grants: [],
                    proposals: [],
                    loans: [],
                    stats: {
                        documentsScanned: 0,
                        templatesCreated: 0,
                        grantsFound: 0,
                        proposalsGenerated: 0
                    }
                };
                saveData();
                updateDashboard();
                alert('‚úÖ All data cleared');
            }
        }

        function generateFullReport() {
            alert('üìä Generating Comprehensive Report\n\nReport will include:\n‚Ä¢ Business profile summary\n‚Ä¢ Document scan results\n‚Ä¢ Templates created\n‚Ä¢ Grant opportunities\n‚Ä¢ Proposal history\n‚Ä¢ Loan options\n‚Ä¢ Recommendations\n\nExport format: PDF');
        }

        // Drag and drop support
        const uploadArea = document.getElementById('uploadArea');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    displayImage(event.target.result);
                    businessData.stats.documentsScanned++;
                    saveData();
                };
                reader.readAsDataURL(files[0]);
            }
        });
    </script>
</body>
</html>
